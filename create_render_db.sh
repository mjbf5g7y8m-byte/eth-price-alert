#!/bin/bash
# Skript pro vytvoÅ™enÃ­ PostgreSQL databÃ¡ze na Render.com
# Tento skript vÃ¡m pomÅ¯Å¾e s procesem vytvÃ¡Å™enÃ­ databÃ¡ze

echo "ğŸš€ VytvoÅ™enÃ­ PostgreSQL databÃ¡ze na Render.com"
echo ""
echo "Tento skript vÃ¡s provede procesem vytvÃ¡Å™enÃ­ databÃ¡ze."
echo "DatabÃ¡zi musÃ­te vytvoÅ™it pÅ™es webovÃ© rozhranÃ­ Render.com."
echo ""
echo "=== KROK 1: OtevÅ™ete Render Dashboard ==="
echo "ğŸ‘‰ JdÄ›te na: https://dashboard.render.com"
echo ""
read -p "StisknÄ›te Enter, aÅ¾ budete na Render Dashboard..."

echo ""
echo "=== KROK 2: VytvoÅ™te PostgreSQL databÃ¡zi ==="
echo "1. KliknÄ›te na tlaÄÃ­tko 'New +' (vpravo nahoÅ™e)"
echo "2. Vyberte 'PostgreSQL'"
echo ""
read -p "StisknÄ›te Enter, aÅ¾ budete na strÃ¡nce vytvÃ¡Å™enÃ­ databÃ¡ze..."

echo ""
echo "=== KROK 3: VyplÅˆte Ãºdaje ==="
echo "VyplÅˆte nÃ¡sledujÃ­cÃ­ Ãºdaje:"
echo ""
echo "ğŸ“ Name: crypto-price-alert-db (nebo jakÃ½koliv nÃ¡zev)"
echo "ğŸ“ Database: cryptodb"
echo "ğŸ“ User: cryptouser"
echo "ğŸ“ Region: STEJNÃ jako vÃ¡Å¡ Web Service (dÅ¯leÅ¾itÃ©!)"
echo "ğŸ“ Plan: Free (pro zaÄÃ¡tek)"
echo ""
read -p "StisknÄ›te Enter, aÅ¾ vyplnÃ­te Ãºdaje a kliknete na 'Create Database'..."

echo ""
echo "â³ PoÄkejte 1-2 minuty, aÅ¾ se databÃ¡ze vytvoÅ™Ã­..."
read -p "StisknÄ›te Enter, aÅ¾ bude databÃ¡ze vytvoÅ™ena..."

echo ""
echo "=== KROK 4: ZkopÃ­rujte Internal Database URL ==="
echo "1. JdÄ›te na vaÅ¡i databÃ¡zi (v seznamu sluÅ¾eb)"
echo "2. V sekci 'Connections' najdÄ›te 'Internal Database URL'"
echo "3. KliknÄ›te na 'Copy' a zkopÃ­rujte URL"
echo ""
echo "URL vypadÃ¡ nÄ›jak takto:"
echo "postgresql://cryptouser:password@dpg-xxxxx-a/cryptodb"
echo ""
read -p "ZkopÃ­rovali jste Internal Database URL? (Enter pro pokraÄovÃ¡nÃ­)..."

echo ""
echo "=== KROK 5: PÅ™idejte DATABASE_URL do vaÅ¡eho service ==="
echo "1. JdÄ›te na vÃ¡Å¡ Web Service (crypto price alert bot)"
echo "2. KliknÄ›te na zÃ¡loÅ¾ku 'Environment'"
echo "3. KliknÄ›te na 'Add Environment Variable'"
echo "4. PÅ™idejte:"
echo "   Key: DATABASE_URL"
echo "   Value: [vloÅ¾te zkopÃ­rovanou Internal Database URL]"
echo "5. KliknÄ›te na 'Save Changes'"
echo ""
read -p "PÅ™idali jste DATABASE_URL? (Enter pro pokraÄovÃ¡nÃ­)..."

echo ""
echo "âœ… Hotovo! Render automaticky restartuje service."
echo ""
echo "=== OVÄšÅ˜ENÃ ==="
echo "1. JdÄ›te na 'Logs' vaÅ¡eho service"
echo "2. MÄ›li byste vidÄ›t:"
echo "   âœ… DatabÃ¡ze pÅ™ipravena - data budou persistentnÃ­ a pÅ™eÅ¾ijÃ­ redeploy"
echo ""
echo "Pokud vidÃ­te varovÃ¡nÃ­, zkontrolujte, jestli je DATABASE_URL sprÃ¡vnÄ› nastavenÃ½."
echo ""
echo "ğŸ‰ Data se nynÃ­ uklÃ¡dajÃ­ do databÃ¡ze a pÅ™eÅ¾ijÃ­ kaÅ¾dÃ½ redeploy!"

